table access_code {
  uuid varchar(36) [not null]
  access_code_id int [pk, not null]
  accommodation_id int [not null]
  code varchar(100) [not null]
  expiration_date timestamp
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
}

table accommodation {
  accommodation_id int [pk, not null]
  uuid varchar(36) [not null]
  users_id varchar(255) [not null]
  type varchar(255) [not null]
  name varchar(255) [not null]
  address_line1 varchar(255) [not null]
  address_line2 varchar(255)
  city varchar(50) [not null]
  zipcode varchar(10) [not null]
  country varchar(40) [not null]
  description varchar(1000)
  photo_url varchar(255)
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
}

table favorite {
  favorite_id int [pk, not null]
  users_id varchar(255) [not null]
  property_id int [not null]
  created_at timestamp [default: `(now())`]
}

table messages {
  message_id int [pk, not null]
  uuid varchar(36) [not null]
  sender_users_id varchar(255) [not null]
  receiver_users_id varchar(255) [not null]
  comment varchar(1000) [not null]
  read boolean [default: false]
  created_at timestamp [default: `(now())`]
}

table order_history {
  history_id int [pk, not null]
  uuid varchar(36) [not null]
  order_id int [not null]
  users_id varchar(255) [not null]
  operation varchar(50) [not null]
  amount decimal(10,2) [not null]
  operation_date timestamp [default: `(now())`]
  created_at timestamp [default: `(now())`]
}

table order_item {
  order_item_id int [pk, not null]
  uuid varchar(36) [not null]
  order_id int [not null]
  product_id int [not null]
  quantity int [not null]
  price decimal(10,2) [not null]
}

table orders {
  order_id int [pk, not null]
  uuid varchar(36) [not null]
  users_id varchar(255) [not null]
  status varchar(50) [not null]
  payment_status varchar(50) [not null]
  amount decimal(10,2) [not null]
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
}

table payment {
  payment_id int [pk, not null]
  uuid varchar(36) [not null]
  order_id int [not null]
  stripe_payment_id varchar(50) [not null]
  amount decimal(10,2) [not null]
  status varchar(50) [not null]
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
}

table product {
  product_id int [pk, not null]
  uuid varchar(36) [not null]
  name varchar(255) [not null]
  description varchar(1000)
  price decimal(10,2) [not null]
  image_url varchar(255)
  stock int [not null]
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
  shop_id int [not null]
}

table shop {
  shop_id int [pk, not null]
  uuid varchar(36) [not null]
  accommodation_id int [not null]
  name varchar(255) [not null]
  created_at timestamp [default: `(now())`]
  updated_at timestamp [default: `(now())`]
}

table stay_info {
  stay_info_id int [pk, not null]
  accommodation_id int [not null]
  title varchar(255) [not null]
  description text [not null]
  category varchar(100)
  photo_url varchar(255)
  created_at timestamp [not null, default: `(now())`]
  updated_at timestamp [not null, default: `(now())`]
}

table users_info {
  users_info_id int [pk, not null]
  users_id varchar(255) [not null]
  first_name varchar(255) [not null]
  last_name varchar(255) [not null]
  date_of_birth date
  address_line1 varchar(255) [not null]
  address_line2 varchar(255)
  city varchar(50) [not null]
  zipcode varchar(10) [not null]
  country varchar(40) [not null]
  phone_number varchar(40)
  photo_url varchar(255)
  created_at timestamp [default: `(now())`]
}

ref: stay_info.accommodation_id > accommodation.accommodation_id